package me.thomasvt.bankingserver;/* * AppNew uses the SPARK framework to provide fast and reliable connection. */import static spark.Spark.*;import java.util.HashMap;import java.util.Map;import java.util.Map.Entry;import org.json.JSONObject;import spark.Request;public class AppNew {		HashMap<String, String> hmap = new HashMap<String, String>();	static void log(String s) {		System.out.println(s);	}	static Map<String, String> requestToMap(Request req) {		Map<String, String> response = new HashMap<String, String>();		JSONObject json = new JSONObject(req.params());		for (Entry<String, Object> s : json.toMap().entrySet())			response.put(s.getKey().substring(1), s.getValue().toString());		return response;	}	static public String getJsonWithError(String error) {		Map<String, String> response = new HashMap<String, String>();		response.put("error", error);		return new JSONObject(response).toString();	}	static void startWebServer() {		port(9010);		//threadPool(maxThreads, minThreads, idleTimeoutMillis);		before((req, res) -> {			log("Received api call");		});				// req.params()				get("/oldapi", (req, res) -> {			ApiHandler api = new ApiHandler();			return api.handle(req);		});				get("/lol", (req, res) -> {			JSONObject response = new JSONObject();						response.put("testing", "500");			response.put("balance", "500");			response.put("response", "success");						return response;		});				get("/hello", (req, res) -> "Hello World");		get("/token/:user/:pin", (req, res) -> {			return requestToMap(req);		});	}	public void main(String[] args) {		startWebServer();	}}